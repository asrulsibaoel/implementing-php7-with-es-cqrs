{% extends '@layout/default.html.twig' %}

{% block title %}Register{% endblock %}

{% block content %}
    <div class="container segment-bottom top-row-high">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div class="login-panel panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Daftar</h3>
                    </div>
                    <div class="panel-body">
                        <form role="form" method="POST" action="/register">
                            <fieldset>
                                <div style="border-bottom: 1px solid #dddddd; margin-bottom: 10px;"></div>
                                <div class="form-group">
                                    <label>Email</label>
                                    <input type="email" name="email" class="form-control email" placeholder="Email">
                                </div>
                                <div class="form-group">
                                    <label>Password</label>
                                    <input type="password" name="password" class="form-control pass1" placeholder="Password">
                                </div>
                                <div id="alertPass" style="display:none" class="form-group alert-danger">
                                    <label>Password Tidak sama!</label>
                                </div>
                                <div class="form-group">
                                    <label>Konfirmasi Password </label>
                                    <input type="password" class="form-control pass2" placeholder="Konfirmasi Password">
                                </div>
                                <div class="form-group">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" value="true">
                                            Saya telah menyetujui <a href="#">Syarat dan Ketentuan</a>
                                        </label>
                                    </div>
                                </div>
                                <button id="btnSubmit" disabled="disabled" type="submit" class="btn btn-md btn-success btn-product">Daftar</button>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $("body").on("keyup", ".pass1, .pass2", function () {
            var pass1 = $(".pass1").val();
            var pass2 = $(".pass2").val();

            if (pass1 == pass2 && pass1 !== "") {
                $("#btnSubmit").removeAttr('disabled');
                $("#alertPass").attr('style', 'display:none');
            } else if (pass1 == "" || pass2 == "") {
                $("#btnSubmit").attr('disabled', 'disabled');
            } else {
                $("#btnSubmit").attr('disabled', 'disabled');
                $("#alertPass").attr('style', 'display:');
            }

        });
        
        $("form").submit(function (e) {
            var email = $(".email").val();

            if (email !== "") {
                return true;
            } else {
                alert('Email tidak boleh kosong!');
                return false;
            }
        });
        
    </script>
{% endblock %}
